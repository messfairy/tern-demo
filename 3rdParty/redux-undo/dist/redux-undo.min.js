!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReduxUndo=t():e.ReduxUndo=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(4)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionCreators={undo:function(){return{type:r.UNDO}},redo:function(){return{type:r.REDO}},jumpToFuture:function(e){return{type:r.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:r.JUMP_TO_PAST,index:e}},jump:function(e){return{type:r.JUMP,index:e}},clearHistory:function(){return{type:r.CLEAR_HISTORY}}}},function(e,t){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}function n(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)}function o(){return console.warn("distinctState is deprecated in beta4 and newer. The distinctState behavior is now default, which means only actions resulting in a new state are recorded. See https://github.com/omnidan/redux-undo#filtering-actions for more details."),function(){return!0}}function i(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0}}function u(e){var t=r(e);return function(e){return t.indexOf(e.type)<0}}function s(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return t.reduce(function(e,t){return function(r,n,o){return e(r,n,o)&&t(r,n,o)}},function(){return!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=r,t.isHistory=n,t.distinctState=o,t.includeAction=i,t.excludeAction=u,t.combineFilters=s},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);e.length>t;t++)r[t]=e[t];return r}return Array.from(e)}function n(){l={header:[],prev:[],action:[],next:[],msgs:[]}}function o(){var e=l,t=e.header,n=e.prev,o=e.next,i=e.action,u=e.msgs;if(console.group){var s,c,a,p,f;(s=console).groupCollapsed.apply(s,r(t)),(c=console).log.apply(c,r(n)),(a=console).log.apply(a,r(i)),(p=console).log.apply(p,r(o)),(f=console).log.apply(f,r(u)),console.groupEnd()}else{var d,y,g,v,T;(d=console).log.apply(d,r(t)),(y=console).log.apply(y,r(n)),(g=console).log.apply(g,r(i)),(v=console).log.apply(v,r(o)),(T=console).log.apply(T,r(u))}}function i(e,t,r){return["%c"+e,"color: "+t+"; font-weight: bold",r]}function u(e,t){n(),p&&(console.group?(l.header=["%credux-undo","font-style: italic","action",e.type],l.action=i("action",f.action,e),l.prev=i("prev history",f.prevState,t)):(l.header=["redux-undo action",e.type],l.action=["action",e],l.prev=["prev history",t]))}function s(e){p&&(l.next=console.group?i("next history",f.nextState,e):["next history",e],o())}function c(){if(p){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];l.msgs=l.msgs.concat([].concat(t,["\n"]))}}function a(e){p=e}Object.defineProperty(t,"__esModule",{value:!0});var p=void 0,l=void 0,f={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};t.set=a,t.start=u,t.end=s,t.log=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1);Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return o.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return o.ActionCreators}});var i=r(2);Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return i.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return i.isHistory}}),Object.defineProperty(t,"distinctState",{enumerable:!0,get:function(){return i.distinctState}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return i.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return i.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return i.combineFilters}});var u=r(5);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(u).default}})},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);e.length>t;t++)r[t]=e[t];return r}return Array.from(e)}function i(e){var t=e.past,r=e.future;return t.length+1+r.length}function u(e,t,r){v.log("inserting",t),v.log("new free: ",r-i(e));var n=e.past,u=e.present,s=r&&i(e)>=r,c=e.wasFiltered?n:[].concat(o(n.slice(s?1:0)),[u]);return{past:c,present:t,future:[]}}function s(e){var t=e.past,r=e.present,n=e.future;if(0>=t.length)return e;var i=e.wasFiltered?n:[r].concat(o(n));return{past:t.slice(0,t.length-1),present:t[t.length-1],future:i}}function c(e){var t=e.past,r=e.present,n=e.future;return n.length>0?{future:n.slice(1,n.length),present:n[0],past:[].concat(o(t),[r])}:e}function a(e,t){if(0===t)return c(e);if(0>t||t>=e.future.length)return e;var r=e.past,n=e.present,o=e.future;return{future:o.slice(t+1),present:o[t],past:r.concat([n]).concat(o.slice(0,t))}}function p(e,t){if(t===e.past.length-1)return s(e);if(0>t||t>=e.past.length)return e;var r=e.past,n=e.present,o=e.future;return{future:r.slice(t+1).concat([n]).concat(o),present:r[t],past:r.slice(0,t)}}function l(e,t){return t>0?a(e,t-1):0>t?p(e,e.past.length+t):e}function f(e){return{past:[],present:e,future:[]}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.set(t.debug);var r={initTypes:(0,h.parseActions)(t.initTypes,["@@redux-undo/INIT"]),limit:t.limit,filter:t.filter||function(){return!0},undoType:t.undoType||T.ActionTypes.UNDO,redoType:t.redoType||T.ActionTypes.REDO,jumpToPastType:t.jumpToPastType||T.ActionTypes.JUMP_TO_PAST,jumpToFutureType:t.jumpToFutureType||T.ActionTypes.JUMP_TO_FUTURE,jumpType:t.jumpType||T.ActionTypes.JUMP,clearHistoryType:t.clearHistoryType||T.ActionTypes.CLEAR_HISTORY};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.history,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.start(n,t);var o=t;r.history||(v.log("history is uninitialized"),void 0===t?(o=f(e(t,{})),v.log("do not initialize on probe actions")):(0,h.isHistory)(t)?(o=r.history=t,v.log("initialHistory initialized: initialState is a history",r.history)):(o=r.history=f(t),v.log("initialHistory initialized: initialState is not a history",r.history)));var i=void 0;switch(n.type){case void 0:return o;case r.undoType:return i=s(o),v.log("perform undo"),v.end(i),i;case r.redoType:return i=c(o),v.log("perform redo"),v.end(i),i;case r.jumpToPastType:return i=p(o,n.index),v.log("perform jumpToPast to "+n.index),v.end(i),i;case r.jumpToFutureType:return i=a(o,n.index),v.log("perform jumpToFuture to "+n.index),v.end(i),i;case r.jumpType:return i=l(o,n.index),v.log("perform jump to "+n.index),v.end(i),i;case r.clearHistoryType:return i=f(o.present),v.log("perform clearHistory"),v.end(i),i;default:if(i=e(o.present,n),r.initTypes.some(function(e){return e===n.type}))return v.log("reset history due to init action"),v.end(r.history),r.history;if(o.present===i)return o;if(o=u(o,i,r.limit),"function"==typeof r.filter&&!r.filter(n,i,o)){var d=y({},o,{wasFiltered:!0,present:i});return v.log("filter prevented action, not storing it"),v.end(d),d}return v.log("inserted new state into history"),v.end(o),o}}}Object.defineProperty(t,"__esModule",{value:!0});var y=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=d;var g=r(3),v=n(g),T=r(1),h=r(2)}])});